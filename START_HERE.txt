╔══════════════════════════════════════════════════════════════╗
║                  🚦 AMBULANCE SYSTEM SETUP 🚑                ║
╚══════════════════════════════════════════════════════════════╝

┌──────────────────────────────────────────────────────────────┐
│ ON RASPBERRY PI:                                             │
└──────────────────────────────────────────────────────────────┘

1. Find Pi IP:
   hostname -I

   Example: 10.40.255.34  ← Write this down!

2. Start server:
   cd raspberry_pi/
   python3 detection_system.py

   ✓ Should see: "🚦 TRAFFIC SIGNAL CONTROL SYSTEM"
   ✓ Keep this terminal open!


┌──────────────────────────────────────────────────────────────┐
│ ON YOUR COMPUTER (MOBILE APP CODE):                         │
└──────────────────────────────────────────────────────────────┘

3. Update config with Pi IP:
   Edit: src/config/piConfig.ts
   Change: IP_ADDRESS: '10.40.255.34'  ← Your Pi IP here!

4. Rebuild mobile app:
   npm start
   Then press 'r' to reload

   ⚠️  IMPORTANT: App must reload for changes to work!


┌──────────────────────────────────────────────────────────────┐
│ CHECK IT'S WORKING:                                          │
└──────────────────────────────────────────────────────────────┘

5. Test from terminal:
   curl http://10.40.255.34:5000/signals

   ✓ Should return JSON with signal data

6. Check mobile app:
   Top-right corner should show:
   🟢 "Pi Connected" = ✅ WORKING!
   🔴 "Pi Offline"   = ❌ NOT WORKING

7. Test signal control:
   curl -X POST http://10.40.255.34:5000/signal/NORTH \
     -H "Content-Type: application/json" \
     -d '{"status":"green"}'

   ✓ Pi terminal should show: 🟢 NORTH → GREEN
   ✓ Physical LED should turn GREEN!


┌──────────────────────────────────────────────────────────────┐
│ TROUBLESHOOTING:                                             │
└──────────────────────────────────────────────────────────────┘

Problem: "Pi Offline"
Fix:
  • Check Pi IP is correct in piConfig.ts
  • Ping Pi: ping 10.40.255.34
  • Check same WiFi network
  • Firewall: sudo ufw allow 5000

Problem: UI changes but GPIO doesn't
Fix:
  • Test GPIO: python3 raspberry_pi/test_gpio.py
  • Permissions: sudo chmod 666 /dev/gpiochip0
  • Check wiring

Problem: App not sending requests
Fix:
  • Did you reload app? (Press 'r' in Metro)
  • Check IP in piConfig.ts
  • Check app console logs


┌──────────────────────────────────────────────────────────────┐
│ THAT'S IT! 🎉                                                │
└──────────────────────────────────────────────────────────────┘

When working:
  Mobile App → GPS detects location → Sends signal to Pi →
  Pi GPIO changes → Physical traffic light turns GREEN! 🚦

Read QUICK_START.md for detailed instructions.
